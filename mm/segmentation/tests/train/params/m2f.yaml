dataset_type: labelme
data_root: /HDD/datasets/projects/Tenneco/Metalbearing/outer/241120/split_patch_dataset_unit
output_dir: /HDD/datasets/projects/Tenneco/Metalbearing/outer/241120/split_patch_dataset_unit/outputs
load_from: null

# data =========================
classes: 
  - background
  - line
  - stabbed
num_classes: 3
img_suffix: '.bmp'
seg_map_suffix: '.json'

# set crop-size/model-size =================================================================================
model: 'mask2former'
backbone: 'swin-s'
# height: 768
# width: 1120
height: 256
width: 512

# train ================================
batch_size: 1
amp: True
max_iters: 20000
# val_interval: 1000
val_interval: 50

default_hooks:
  checkpoint:
    interval: 1000
    by_epoch: false 
    save_best: 'mIoU'
    out_dir: null

# etc.
resume: False


# custom hooks ==========================
custom_hooks:
  visualize_val:
    freq_epoch: 1
    ratio: 0.5
    output_dir: null

  before_train:
    debug_dataloader:
      ratio: 0.5
      debug_dir: /HDD/etc/etc/debug


  after_train_epoch:

  after_val_epoch:
  
  aiv:
    use: true
    logging: 
      output_dir: /HDD/etc/etc
      logs_dir: /HDD/etc/etc/logs
      weights_dir: /HDD/etc/etc/weights
      configs_dir: /HDD/etc/etc/configs
      val_dir: /HDD/etc/etc/val

      monitor: 
        use: true 
        monitor_csv: true 
        monitor_figs: true 
        monitor_freq: 1


